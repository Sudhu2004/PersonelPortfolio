<div class="contact-container">
    <button class="contact-toggle" (click)="toggleForm()" [class.open]="isOpen">
        <i class="fas fa-envelope" *ngIf="!isOpen"></i>
        <i class="fas fa-times" *ngIf="isOpen"></i>
    </button>

    <div class="contact-window" *ngIf="isOpen">
        <div class="contact-header">
            <h3>Get in Touch</h3>
            <p>Send me a message</p>
        </div>

        <form class="contact-form" (ngSubmit)="sendMessage()" #contactForm="ngForm">
            <div class="form-group">
                <label for="name">Name</label>
                <input type="text" id="name" name="name" [(ngModel)]="formData.name" placeholder="Your Name" required>
            </div>

            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" [(ngModel)]="formData.email"
                    placeholder="your.email@example.com" required>
            </div>

            <div class="form-group">
                <label for="message">Message</label>
                <textarea id="message" name="message" [(ngModel)]="formData.message" placeholder="Your message..."
                    rows="4" required></textarea>
            </div>

            <button type="submit" class="submit-btn" [disabled]="!contactForm.valid || isLoading">
                <span *ngIf="!isLoading">
                    <i class="fas fa-paper-plane"></i> Send Message
                </span>
                <span *ngIf="isLoading">
                    <i class="fas fa-spinner fa-spin"></i> Sending...
                </span>
            </button>

            <div class="status-message" *ngIf="statusMessage" [class.success]="isSuccess" [class.error]="!isSuccess">
                {{ statusMessage }}
            </div>
        </form>
    </div>
</div>